[{"/home/dmitriy/JavaScript/exam10/front/src/index.js":"1","/home/dmitriy/JavaScript/exam10/front/src/App.js":"2","/home/dmitriy/JavaScript/exam10/front/src/reportWebVitals.js":"3","/home/dmitriy/JavaScript/exam10/front/src/store/reducers/mainReducer.js":"4","/home/dmitriy/JavaScript/exam10/front/src/store/actionTypes/mainActionTypes.js":"5","/home/dmitriy/JavaScript/exam10/front/src/store/actions/mainActions.js":"6","/home/dmitriy/JavaScript/exam10/front/src/axios.js":"7","/home/dmitriy/JavaScript/exam10/front/src/Container/Main/Main.js":"8","/home/dmitriy/JavaScript/exam10/front/src/Container/AddForm/AddForm.js":"9","/home/dmitriy/JavaScript/exam10/front/src/Component/NewsItem/NewsItem.js":"10","/home/dmitriy/JavaScript/exam10/front/src/Container/FullPost/FullPost.js":"11","/home/dmitriy/JavaScript/exam10/front/src/Component/Comment/Comment.js":"12"},{"size":861,"mtime":1608368825091,"results":"13","hashOfConfig":"14"},{"size":525,"mtime":1608377782324,"results":"15","hashOfConfig":"14"},{"size":362,"mtime":1608349323508,"results":"16","hashOfConfig":"14"},{"size":775,"mtime":1608379112352,"results":"17","hashOfConfig":"14"},{"size":230,"mtime":1608380450482,"results":"18","hashOfConfig":"14"},{"size":1778,"mtime":1608381015827,"results":"19","hashOfConfig":"14"},{"size":127,"mtime":1608369294538,"results":"20","hashOfConfig":"14"},{"size":1628,"mtime":1608377585346,"results":"21","hashOfConfig":"14"},{"size":2130,"mtime":1608375550971,"results":"22","hashOfConfig":"14"},{"size":662,"mtime":1608377510630,"results":"23","hashOfConfig":"14"},{"size":2879,"mtime":1608381126823,"results":"24","hashOfConfig":"14"},{"size":525,"mtime":1608381338722,"results":"25","hashOfConfig":"14"},{"filePath":"26","messages":"27","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"28"},"799fns",{"filePath":"29","messages":"30","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"28"},{"filePath":"31","messages":"32","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"28"},{"filePath":"33","messages":"34","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"28"},{"filePath":"35","messages":"36","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"28"},{"filePath":"37","messages":"38","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"39","usedDeprecatedRules":"28"},{"filePath":"40","messages":"41","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"42","messages":"43","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"28"},{"filePath":"44","messages":"45","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"28"},{"filePath":"46","messages":"47","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"28"},{"filePath":"48","messages":"49","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"50","usedDeprecatedRules":"28"},{"filePath":"51","messages":"52","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"28"},"/home/dmitriy/JavaScript/exam10/front/src/index.js",[],["53","54"],"/home/dmitriy/JavaScript/exam10/front/src/App.js",[],"/home/dmitriy/JavaScript/exam10/front/src/reportWebVitals.js",[],"/home/dmitriy/JavaScript/exam10/front/src/store/reducers/mainReducer.js",[],"/home/dmitriy/JavaScript/exam10/front/src/store/actionTypes/mainActionTypes.js",[],"/home/dmitriy/JavaScript/exam10/front/src/store/actions/mainActions.js",["55"],"import { FETCH_COMMENTS_SUCCESS, FETCH_NEWS_ERROR, FETCH_NEWS_SUCCESS, FETCH_ONE_POST_ERROR, FETCH_ONE_POST_SUCCESS } from \"../actionTypes/mainActionTypes\";\nimport axios from '../../axios';\n\nexport const fetchNewsSuccess=value=>({type:FETCH_NEWS_SUCCESS,value});\nexport const fetchNewsError=error=>({type:FETCH_NEWS_ERROR,error});\n\nexport const fetchNews=()=>{\n    return async dispatch=>{\n        try {\n            const response = await axios.get('/news');\n            dispatch(fetchNewsSuccess(response.data));\n        } catch(e) {\n            dispatch(fetchNewsError(e));\n        }\n    }\n};\n\nexport const addPost=(object)=>{\n    return async ()=>{\n          await axios.post('/news', object); \n    }\n};\n\nexport const deletePost=(id)=>{\n    return async ()=>{\n          await axios.delete('/news/'+id); \n    }\n};\n\nexport const fetchOnePostSuccess=value=>({type:FETCH_ONE_POST_SUCCESS,value});\n\n\nexport const fetchOnePost=(id)=>{\n    return async dispatch=>{\n        try {\n            const response = await axios.get('/news/'+id);\n            dispatch(fetchOnePostSuccess(response.data));\n        } catch(e) {\n            dispatch(fetchNewsError(e));\n        }\n    }\n};\n\nexport const fetchCommentsSuccess=value=>({type:FETCH_COMMENTS_SUCCESS,value});\n\nexport const fetchComments=(id)=>{\n    return async dispatch=>{\n        try {\n            const response = await axios.get('/comments?news_id='+id);\n            dispatch(fetchCommentsSuccess(response.data));\n        } catch(e) {\n            dispatch(fetchNewsError(e));\n        }\n    }\n};\n\nexport const addComment=(object)=>{\n    return async ()=>{\n          await axios.post('/comments', object); \n    }\n};\n\nexport const deleteComment=(id)=>{\n    return async ()=>{\n          await axios.delete('/news/'+id); \n    }\n};","/home/dmitriy/JavaScript/exam10/front/src/axios.js",[],"/home/dmitriy/JavaScript/exam10/front/src/Container/Main/Main.js",[],"/home/dmitriy/JavaScript/exam10/front/src/Container/AddForm/AddForm.js",[],"/home/dmitriy/JavaScript/exam10/front/src/Component/NewsItem/NewsItem.js",[],"/home/dmitriy/JavaScript/exam10/front/src/Container/FullPost/FullPost.js",["56"],"import React, { useEffect, useState } from 'react';\nimport { useDispatch, useSelector } from 'react-redux';\nimport { useHistory, useParams } from 'react-router';\nimport { addComment, deleteComment, fetchComments, fetchOnePost } from '../../store/actions/mainActions';\nimport './FullPost.css';\nimport Comment from '../../Component/Comment/Comment';\n\nconst FullPost=()=>{\n    const params=useParams();\n    const history=useHistory();\n    const dispatch=useDispatch();\n    const post=useSelector(state=>state.onePost);\n    const comments=useSelector(state=>state.comments);\n    const [newComment, setNewComment] = useState({\n        message: \"\",\n        author: \"\",\n        news_id:params.id\n    });\n    \n    const inputChangeHandler = event => {\n        const {name, value} = event.target;\n        setNewComment(prevState => {\n            return {...prevState, [name]: value}\n        })\n      };\n\n      const submitFrom=async e=>{\n        e.preventDefault();\n        await dispatch(addComment(newComment));\n        dispatch(fetchComments(params.id));\n    };\n\n    useEffect(()=>{\n        dispatch(fetchOnePost(params.id));\n        dispatch(fetchComments(params.id));\n    },[dispatch]);\n\n    const returnToMainPageHandler=()=>{\n        history.push('/');\n    };\n\n    const deleteCommentHandler=async id=>{\n        await dispatch(deleteComment(id));\n        dispatch(fetchComments(params.id));\n    };\n\n    const commentDiv=(\n        <div>\n            {\n                comments.map(com=>{\n                    return(\n                        <Comment \n                            key={com.id}\n                            author={com.author}\n                            message={com.message}\n                            remove={()=>deleteCommentHandler(com.id)}\n                        />\n                    )\n                })\n            }\n        </div>\n    )\n\n    return(\n        <div className='container'>\n            <div className='header'>\n                <h4>FULL POST</h4>\n                <button className='btn' onClick={returnToMainPageHandler}>Posts</button>\n            </div>\n            <div className='full-post'>\n                <h3>{post[0].title}</h3>\n                <p>{post[0].date}</p>\n                <p>{post[0].description}</p>\n            </div>\n            {commentDiv}\n            <form onSubmit={(e)=>submitFrom(e)}>\n                <input type='text' required className='input-form' \n                        name='message' placeholder='Message' \n                        onChange={(event)=>inputChangeHandler(event)}/>\n                <input type='text' className='input-form' \n                        name='author' placeholder='Author' \n                        onChange={(event)=>inputChangeHandler(event)}/>\n                <button type='submit' className='btn'>Add Comment</button>\n            </form>\n        </div>\n    )\n}\nexport default FullPost;","/home/dmitriy/JavaScript/exam10/front/src/Component/Comment/Comment.js",[],{"ruleId":"57","replacedBy":"58"},{"ruleId":"59","replacedBy":"60"},{"ruleId":"61","severity":1,"message":"62","line":1,"column":72,"nodeType":"63","messageId":"64","endLine":1,"endColumn":92},{"ruleId":"65","severity":1,"message":"66","line":36,"column":7,"nodeType":"67","endLine":36,"endColumn":17,"suggestions":"68"},"no-native-reassign",["69"],"no-negated-in-lhs",["70"],"no-unused-vars","'FETCH_ONE_POST_ERROR' is defined but never used.","Identifier","unusedVar","react-hooks/exhaustive-deps","React Hook useEffect has a missing dependency: 'params.id'. Either include it or remove the dependency array.","ArrayExpression",["71"],"no-global-assign","no-unsafe-negation",{"desc":"72","fix":"73"},"Update the dependencies array to be: [dispatch, params.id]",{"range":"74","text":"75"},[1170,1180],"[dispatch, params.id]"]